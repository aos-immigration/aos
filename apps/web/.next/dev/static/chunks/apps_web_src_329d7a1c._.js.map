{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/app/lib/intakeStorage.ts"],"sourcesContent":["export type MonthValue =\n  | \"\"\n  | \"01\"\n  | \"02\"\n  | \"03\"\n  | \"04\"\n  | \"05\"\n  | \"06\"\n  | \"07\"\n  | \"08\"\n  | \"09\"\n  | \"10\"\n  | \"11\"\n  | \"12\";\n\nexport type RelationshipValue = \"\" | \"spouse\" | \"parent\" | \"child\" | \"sibling\";\n\nexport type EmploymentStatus = \"\" | \"employed\" | \"unemployed\" | \"student\" | \"other\";\n\nexport type AddressEntry = {\n  id: string;\n  street: string;\n  unit: string;\n  city: string;\n  state: string;\n  postal: string;\n  country: string;\n  fromMonth: MonthValue;\n  fromYear: string;\n  toMonth: MonthValue;\n  toYear: string;\n  isCurrent: boolean;\n  notes: string;\n};\n\nexport type EmploymentEntry = {\n  id: string;\n  status: EmploymentStatus;\n  employerName: string;\n  jobTitle: string;\n  city: string;\n  state: string;\n  country: string;\n  fromMonth: MonthValue;\n  fromYear: string;\n  toMonth: MonthValue;\n  toYear: string;\n  isCurrent: boolean;\n  notes: string;\n};\n\nexport type IntakeData = {\n  basics: {\n    relationship: RelationshipValue;\n    petitioner: {\n      givenName: string;\n      middleName: string;\n      familyName: string;\n    };\n    dateOfBirth: {\n      month: MonthValue;\n      day: string;\n      year: string;\n    };\n  };\n  contact: {\n    email: string;\n    phone: string;\n  };\n  mailingSameAsPhysical: boolean;\n  mailingAddress: AddressEntry;\n  addresses: AddressEntry[];\n  employment: EmploymentEntry[];\n};\n\nconst STORAGE_KEY = \"aos:intake:v1\";\n\nconst emptyAddress = (): AddressEntry => ({\n  id: createId(),\n  street: \"\",\n  unit: \"\",\n  city: \"\",\n  state: \"\",\n  postal: \"\",\n  country: \"United States\",\n  fromMonth: \"\",\n  fromYear: \"\",\n  toMonth: \"\",\n  toYear: \"\",\n  isCurrent: false,\n  notes: \"\",\n});\n\nconst emptyEmployment = (): EmploymentEntry => ({\n  id: createId(),\n  status: \"\",\n  employerName: \"\",\n  jobTitle: \"\",\n  city: \"\",\n  state: \"\",\n  country: \"United States\",\n  fromMonth: \"\",\n  fromYear: \"\",\n  toMonth: \"\",\n  toYear: \"\",\n  isCurrent: false,\n  notes: \"\",\n});\n\nexport const defaultIntakeData = (): IntakeData => ({\n  basics: {\n    relationship: \"spouse\",\n    petitioner: {\n      givenName: \"\",\n      middleName: \"\",\n      familyName: \"\",\n    },\n    dateOfBirth: {\n      month: \"\",\n      day: \"\",\n      year: \"\",\n    },\n  },\n  contact: {\n    email: \"\",\n    phone: \"\",\n  },\n  mailingSameAsPhysical: true,\n  mailingAddress: emptyAddress(),\n  addresses: [emptyAddress()],\n  employment: [emptyEmployment()],\n});\n\nexport const createEmptyAddress = emptyAddress;\nexport const createEmptyEmployment = emptyEmployment;\n\nexport function loadIntake(): IntakeData {\n  if (typeof window === \"undefined\") {\n    return defaultIntakeData();\n  }\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    if (!raw) {\n      return defaultIntakeData();\n    }\n    const parsed = JSON.parse(raw) as IntakeData;\n    return normalizeIntake(parsed);\n  } catch {\n    return defaultIntakeData();\n  }\n}\n\nexport function saveIntake(data: IntakeData) {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nexport function clearIntake() {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  window.localStorage.removeItem(STORAGE_KEY);\n}\n\nconst normalizeIntake = (input: IntakeData): IntakeData => {\n  const addresses = Array.isArray(input.addresses)\n    ? input.addresses\n    : [emptyAddress()];\n  const employment = Array.isArray(input.employment)\n    ? input.employment\n    : [emptyEmployment()];\n\n  return {\n    basics: input.basics ?? defaultIntakeData().basics,\n    contact: input.contact ?? defaultIntakeData().contact,\n    mailingSameAsPhysical:\n      typeof input.mailingSameAsPhysical === \"boolean\"\n        ? input.mailingSameAsPhysical\n        : defaultIntakeData().mailingSameAsPhysical,\n    mailingAddress: input.mailingAddress ?? defaultIntakeData().mailingAddress,\n    addresses: addresses.length ? addresses : [emptyAddress()],\n    employment: employment.length ? employment : [emptyEmployment()],\n  };\n};\n\nconst createId = () => {\n  if (typeof crypto !== \"undefined\" && \"randomUUID\" in crypto) {\n    return crypto.randomUUID();\n  }\n  return `id_${Date.now()}_${Math.random().toString(16).slice(2)}`;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AA2EA,MAAM,cAAc;AAEpB,MAAM,eAAe,IAAoB,CAAC;QACxC,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,MAAM;QACN,OAAO;QACP,QAAQ;QACR,SAAS;QACT,WAAW;QACX,UAAU;QACV,SAAS;QACT,QAAQ;QACR,WAAW;QACX,OAAO;IACT,CAAC;AAED,MAAM,kBAAkB,IAAuB,CAAC;QAC9C,IAAI;QACJ,QAAQ;QACR,cAAc;QACd,UAAU;QACV,MAAM;QACN,OAAO;QACP,SAAS;QACT,WAAW;QACX,UAAU;QACV,SAAS;QACT,QAAQ;QACR,WAAW;QACX,OAAO;IACT,CAAC;AAEM,MAAM,oBAAoB,IAAkB,CAAC;QAClD,QAAQ;YACN,cAAc;YACd,YAAY;gBACV,WAAW;gBACX,YAAY;gBACZ,YAAY;YACd;YACA,aAAa;gBACX,OAAO;gBACP,KAAK;gBACL,MAAM;YACR;QACF;QACA,SAAS;YACP,OAAO;YACP,OAAO;QACT;QACA,uBAAuB;QACvB,gBAAgB;QAChB,WAAW;YAAC;SAAe;QAC3B,YAAY;YAAC;SAAkB;IACjC,CAAC;AAEM,MAAM,qBAAqB;AAC3B,MAAM,wBAAwB;AAE9B,SAAS;IACd;;IAGA,IAAI;QACF,MAAM,MAAM,OAAO,YAAY,CAAC,OAAO,CAAC;QACxC,IAAI,CAAC,KAAK;YACR,OAAO;QACT;QACA,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,OAAO,gBAAgB;IACzB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,WAAW,IAAgB;IACzC;;IAGA,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AAC1D;AAEO,SAAS;IACd;;IAGA,OAAO,YAAY,CAAC,UAAU,CAAC;AACjC;AAEA,MAAM,kBAAkB,CAAC;IACvB,MAAM,YAAY,MAAM,OAAO,CAAC,MAAM,SAAS,IAC3C,MAAM,SAAS,GACf;QAAC;KAAe;IACpB,MAAM,aAAa,MAAM,OAAO,CAAC,MAAM,UAAU,IAC7C,MAAM,UAAU,GAChB;QAAC;KAAkB;IAEvB,OAAO;QACL,QAAQ,MAAM,MAAM,IAAI,oBAAoB,MAAM;QAClD,SAAS,MAAM,OAAO,IAAI,oBAAoB,OAAO;QACrD,uBACE,OAAO,MAAM,qBAAqB,KAAK,YACnC,MAAM,qBAAqB,GAC3B,oBAAoB,qBAAqB;QAC/C,gBAAgB,MAAM,cAAc,IAAI,oBAAoB,cAAc;QAC1E,WAAW,UAAU,MAAM,GAAG,YAAY;YAAC;SAAe;QAC1D,YAAY,WAAW,MAAM,GAAG,aAAa;YAAC;SAAkB;IAClE;AACF;AAEA,MAAM,WAAW;IACf,IAAI,OAAO,WAAW,eAAe,gBAAgB,QAAQ;QAC3D,OAAO,OAAO,UAAU;IAC1B;IACA,OAAO,CAAC,GAAG,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;AAClE"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,2IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KArBS"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-1/2 top-1/2 z-50 grid w-full max-w-3xl -translate-x-1/2 -translate-y-1/2 gap-4 rounded-2xl border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 dark:border-zinc-800 dark:bg-zinc-950\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-800 dark:data-[state=open]:bg-zinc-800\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col gap-2 text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-zinc-600 dark:text-zinc-300\", className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogTrigger,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AACnC,MAAM,gBAAgB,gLAAuB;AAC7C,MAAM,eAAe,+KAAsB;AAC3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,2IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,2IAAE,EACX,+XACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,IAAA,2IAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;MAJrE;AAMN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2IAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,2IAAE,EAAC,4CAA4C;QACzD,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"item-aligned\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span\n        data-slot=\"select-item-indicator\"\n        className=\"absolute right-2 flex size-3.5 items-center justify-center\"\n      >\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,2IAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,cAAc,EACzB,QAAQ,QAAQ,EAChB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,2IAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACV,OAAO;YACN,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,2IAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAnCS;AAqCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,2IAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBACC,aAAU;gBACV,WAAU;0BAEV,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAzBS;AA2BT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,2IAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,2IAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/app/components/intake/StepShell.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\ntype StepShellProps = {\n  title: string;\n  description?: string;\n  children: React.ReactNode;\n};\n\nexport function StepShell({ title, description, children }: StepShellProps) {\n  return (\n    <section className=\"w-full rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-950\">\n      <h2 className=\"text-xl font-semibold text-zinc-900 dark:text-zinc-50\">\n        {title}\n      </h2>\n      {description ? (\n        <p className=\"mt-2 text-sm text-zinc-600 dark:text-zinc-300\">\n          {description}\n        </p>\n      ) : null}\n      <div className=\"mt-6 grid gap-4\">{children}</div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUO,SAAS,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAkB;IACxE,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAG,WAAU;0BACX;;;;;;YAEF,4BACC,6LAAC;gBAAE,WAAU;0BACV;;;;;uBAED;0BACJ,6LAAC;gBAAI,WAAU;0BAAmB;;;;;;;;;;;;AAGxC;KAdgB"}},
    {"offset": {"line": 773, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/projects/aos/apps/web/src/app/components/intake/IntakeFlow.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  createEmptyAddress,\n  createEmptyEmployment,\n  defaultIntakeData,\n  loadIntake,\n  saveIntake,\n  type AddressEntry,\n  type EmploymentEntry,\n  type IntakeData,\n  type MonthValue,\n} from \"@/app/lib/intakeStorage\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/utils\";\nimport { StepShell } from \"./StepShell\";\n\nconst MONTHS: Array<{ value: MonthValue; label: string }> = [\n  { value: \"01\", label: \"Jan\" },\n  { value: \"02\", label: \"Feb\" },\n  { value: \"03\", label: \"Mar\" },\n  { value: \"04\", label: \"Apr\" },\n  { value: \"05\", label: \"May\" },\n  { value: \"06\", label: \"Jun\" },\n  { value: \"07\", label: \"Jul\" },\n  { value: \"08\", label: \"Aug\" },\n  { value: \"09\", label: \"Sep\" },\n  { value: \"10\", label: \"Oct\" },\n  { value: \"11\", label: \"Nov\" },\n  { value: \"12\", label: \"Dec\" },\n];\n\nconst getYearOptions = () => {\n  const current = new Date().getFullYear();\n  const years: string[] = [];\n  for (let i = 0; i < 12; i += 1) {\n    years.push(String(current - i));\n  }\n  return years;\n};\n\ntype RenderSelectFn = (\n  value: string,\n  onChange: (value: string) => void,\n  placeholder: string,\n  options: Array<{ value: string; label: string }>,\n  className?: string,\n  disabled?: boolean\n) => React.ReactElement;\n\nconst renderSelect: RenderSelectFn = (\n  value,\n  onChange,\n  placeholder,\n  options,\n  className,\n  disabled\n) => (\n  <Select\n    value={value || undefined}\n    onValueChange={onChange}\n    disabled={disabled ?? false}\n  >\n    <SelectTrigger className={cn(\"w-full\", className)}>\n      <SelectValue placeholder={placeholder} />\n    </SelectTrigger>\n    <SelectContent>\n      {options.map((option) => (\n        <SelectItem key={option.value} value={option.value}>\n          {option.label}\n        </SelectItem>\n      ))}\n    </SelectContent>\n  </Select>\n);\n\ntype EmploymentEntryCardProps = {\n  entry: EmploymentEntry;\n  index: number;\n  yearOptions: string[];\n  onUpdate: (id: string, patch: Partial<EmploymentEntry>) => void;\n  onRemove: (id: string) => void;\n  showRemove: boolean;\n};\n\nconst EmploymentEntryCard = ({\n  entry,\n  index,\n  yearOptions,\n  onUpdate,\n  onRemove,\n  showRemove,\n}: EmploymentEntryCardProps) => (\n  <div className=\"rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900\">\n    <div className=\"flex items-center justify-between\">\n      <p className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n        {index === 0 ? \"Current employment\" : `Previous employment ${index}`}\n      </p>\n      {showRemove ? (\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => onRemove(entry.id)}\n        >\n          Remove\n        </Button>\n      ) : null}\n    </div>\n\n    <div className=\"mt-4 grid gap-4 sm:grid-cols-2\">\n      <label className=\"flex flex-col gap-2 text-sm\">\n        <Label>Status</Label>\n        {renderSelect(\n          entry.status,\n          (value) =>\n            onUpdate(entry.id, {\n              status: value as EmploymentEntry[\"status\"],\n            }),\n          \"Select\",\n          [\n            { value: \"employed\", label: \"Employed\" },\n            { value: \"unemployed\", label: \"Unemployed\" },\n            { value: \"student\", label: \"Student\" },\n            { value: \"other\", label: \"Other\" },\n          ]\n        )}\n      </label>\n      {entry.status === \"employed\" ? (\n        <>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Employer name</Label>\n            <Input\n              value={entry.employerName}\n              onChange={(event) =>\n                onUpdate(entry.id, {\n                  employerName: event.target.value,\n                })\n              }\n              placeholder=\"Company name\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Job title</Label>\n            <Input\n              value={entry.jobTitle}\n              onChange={(event) =>\n                onUpdate(entry.id, { jobTitle: event.target.value })\n              }\n              placeholder=\"Software Engineer\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>City</Label>\n            <Input\n              value={entry.city}\n              onChange={(event) => onUpdate(entry.id, { city: event.target.value })}\n              placeholder=\"San Jose\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>State</Label>\n            <Input\n              value={entry.state}\n              onChange={(event) => onUpdate(entry.id, { state: event.target.value })}\n              placeholder=\"CA\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Country</Label>\n            <Input\n              value={entry.country}\n              onChange={(event) =>\n                onUpdate(entry.id, { country: event.target.value })\n              }\n              placeholder=\"United States\"\n            />\n          </label>\n        </>\n      ) : (\n        <div className=\"rounded-lg border border-dashed border-zinc-300 p-3 text-xs text-zinc-500 dark:border-zinc-700\">\n          Employer details only appear when your status is Employed.\n        </div>\n      )}\n    </div>\n\n    <div className=\"mt-4 grid gap-4 sm:grid-cols-4\">\n      <label className=\"flex flex-col gap-2 text-sm\">\n        <Label>From month</Label>\n        {renderSelect(\n          entry.fromMonth,\n          (value) =>\n            onUpdate(entry.id, {\n              fromMonth: value as MonthValue,\n            }),\n          \"Month\",\n          MONTHS.map((month) => ({\n            value: month.value,\n            label: month.label,\n          }))\n        )}\n      </label>\n      <label className=\"flex flex-col gap-2 text-sm\">\n        <Label>From year</Label>\n        {renderSelect(\n          entry.fromYear,\n          (value) => onUpdate(entry.id, { fromYear: value }),\n          \"Year\",\n          yearOptions.map((year) => ({ value: year, label: year }))\n        )}\n      </label>\n      <label className=\"flex flex-col gap-2 text-sm\">\n        <Label>To month</Label>\n        {renderSelect(\n          entry.toMonth,\n          (value) => onUpdate(entry.id, { toMonth: value as MonthValue }),\n          \"Month\",\n          MONTHS.map((month) => ({\n            value: month.value,\n            label: month.label,\n          })),\n          undefined,\n          entry.isCurrent\n        )}\n      </label>\n      <label className=\"flex flex-col gap-2 text-sm\">\n        <Label>To year</Label>\n        {renderSelect(\n          entry.toYear,\n          (value) => onUpdate(entry.id, { toYear: value }),\n          \"Year\",\n          yearOptions.map((year) => ({ value: year, label: year })),\n          undefined,\n          entry.isCurrent\n        )}\n      </label>\n    </div>\n\n    <div className=\"mt-4 flex items-center justify-between\">\n      <label className=\"flex items-center gap-2 text-sm\">\n        <input\n          type=\"checkbox\"\n          checked={entry.isCurrent}\n          onChange={(event) =>\n            onUpdate(entry.id, {\n              isCurrent: event.target.checked,\n              toMonth: event.target.checked ? \"\" : entry.toMonth,\n              toYear: event.target.checked ? \"\" : entry.toYear,\n            })\n          }\n          className=\"h-4 w-4 rounded border-zinc-300 text-zinc-900\"\n        />\n        <span>Current situation</span>\n      </label>\n    </div>\n  </div>\n);\n\ntype AddressHistoryStepProps = {\n  data: IntakeData;\n  yearOptions: string[];\n  onMailingSameAsPhysicalChange: (value: boolean) => void;\n  onMailingAddressChange: (patch: Partial<AddressEntry>) => void;\n  onUpdateAddress: (id: string, patch: Partial<AddressEntry>) => void;\n  onAddAddress: () => void;\n  onRemoveAddress: (id: string) => void;\n};\n\nconst AddressHistoryStep = ({\n  data,\n  yearOptions,\n  onMailingSameAsPhysicalChange,\n  onMailingAddressChange,\n  onUpdateAddress,\n  onAddAddress,\n  onRemoveAddress,\n}: AddressHistoryStepProps) => {\n  const needsMailingAddress = data.mailingSameAsPhysical === false;\n\n  return (\n    <StepShell\n      title=\"Address history (last 5 years)\"\n      description=\"Start with your current address and work backwards. Itâ€™s okay to estimate months.\"\n    >\n      <div className=\"rounded-xl border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-950\">\n        <label className=\"flex flex-col gap-2 text-sm\">\n          <Label>\n            Is your current mailing address the same as your physical address?\n          </Label>\n          {renderSelect(\n            data.mailingSameAsPhysical ? \"yes\" : \"no\",\n            (value) => onMailingSameAsPhysicalChange(value === \"yes\"),\n            \"Select\",\n            [\n              { value: \"yes\", label: \"Yes, they are the same\" },\n              { value: \"no\", label: \"No, they are different\" },\n            ]\n          )}\n        </label>\n      </div>\n\n      {needsMailingAddress ? (\n      <div className=\"rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900\">\n        <p className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n          Mailing address\n        </p>\n        <p className=\"mt-1 text-sm text-zinc-600 dark:text-zinc-300\">\n          This is the address where you receive mail.\n        </p>\n\n        <div className=\"mt-4 grid gap-4 sm:grid-cols-2\">\n          <label className=\"flex flex-col gap-2 text-sm sm:col-span-2\">\n            <Label>Street address</Label>\n            <Input\n              value={data.mailingAddress.street}\n              onChange={(event) =>\n                onMailingAddressChange({ street: event.target.value })\n              }\n              placeholder=\"123 Main St\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Unit / Apt</Label>\n            <Input\n              value={data.mailingAddress.unit}\n              onChange={(event) =>\n                onMailingAddressChange({ unit: event.target.value })\n              }\n              placeholder=\"Apt 2B\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>City</Label>\n            <Input\n              value={data.mailingAddress.city}\n              onChange={(event) =>\n                onMailingAddressChange({ city: event.target.value })\n              }\n              placeholder=\"San Jose\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>State</Label>\n            <Input\n              value={data.mailingAddress.state}\n              onChange={(event) =>\n                onMailingAddressChange({ state: event.target.value })\n              }\n              placeholder=\"CA\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>ZIP / Postal code</Label>\n            <Input\n              value={data.mailingAddress.postal}\n              onChange={(event) =>\n                onMailingAddressChange({ postal: event.target.value })\n              }\n              placeholder=\"95112\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Country</Label>\n            <Input\n              value={data.mailingAddress.country}\n              onChange={(event) =>\n                onMailingAddressChange({ country: event.target.value })\n              }\n              placeholder=\"United States\"\n            />\n          </label>\n        </div>\n      </div>\n      ) : null}\n\n    {data.addresses.map((entry, idx) => (\n      <div\n        key={entry.id}\n        className=\"rounded-xl border border-zinc-200 bg-zinc-50 p-4 dark:border-zinc-800 dark:bg-zinc-900\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n            {idx === 0 ? \"Current address\" : `Previous address ${idx}`}\n          </p>\n          {data.addresses.length > 1 ? (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onRemoveAddress(entry.id)}\n            >\n              Remove\n            </Button>\n          ) : null}\n        </div>\n\n        <div className=\"mt-4 grid gap-4 sm:grid-cols-2\">\n          <label className=\"flex flex-col gap-2 text-sm sm:col-span-2\">\n            <Label>Street address</Label>\n            <Input\n              value={entry.street}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { street: event.target.value })\n              }\n              placeholder=\"123 Main St\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Unit / Apt</Label>\n            <Input\n              value={entry.unit}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { unit: event.target.value })\n              }\n              placeholder=\"Apt 2B\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>City</Label>\n            <Input\n              value={entry.city}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { city: event.target.value })\n              }\n              placeholder=\"San Jose\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>State</Label>\n            <Input\n              value={entry.state}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { state: event.target.value })\n              }\n              placeholder=\"CA\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>ZIP / Postal code</Label>\n            <Input\n              value={entry.postal}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { postal: event.target.value })\n              }\n              placeholder=\"95112\"\n            />\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Country</Label>\n            <Input\n              value={entry.country}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, { country: event.target.value })\n              }\n              placeholder=\"United States\"\n            />\n          </label>\n        </div>\n\n        <div className=\"mt-4 grid gap-4 sm:grid-cols-4\">\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>From month</Label>\n            {renderSelect(\n              entry.fromMonth,\n              (value) => onUpdateAddress(entry.id, { fromMonth: value as MonthValue }),\n              \"Month\",\n              MONTHS.map((month) => ({\n                value: month.value,\n                label: month.label,\n              }))\n            )}\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>From year</Label>\n            {renderSelect(\n              entry.fromYear,\n              (value) => onUpdateAddress(entry.id, { fromYear: value }),\n              \"Year\",\n              yearOptions.map((year) => ({ value: year, label: year }))\n            )}\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>To month</Label>\n            {renderSelect(\n              entry.toMonth,\n              (value) => onUpdateAddress(entry.id, { toMonth: value as MonthValue }),\n              \"Month\",\n              MONTHS.map((month) => ({\n                value: month.value,\n                label: month.label,\n              })),\n              undefined,\n              entry.isCurrent\n            )}\n          </label>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>To year</Label>\n            {renderSelect(\n              entry.toYear,\n              (value) => onUpdateAddress(entry.id, { toYear: value }),\n              \"Year\",\n              yearOptions.map((year) => ({ value: year, label: year })),\n              undefined,\n              entry.isCurrent\n            )}\n          </label>\n        </div>\n\n        <div className=\"mt-4 flex items-center justify-between\">\n          <label className=\"flex items-center gap-2 text-sm\">\n            <input\n              type=\"checkbox\"\n              checked={entry.isCurrent}\n              onChange={(event) =>\n                onUpdateAddress(entry.id, {\n                  isCurrent: event.target.checked,\n                  toMonth: event.target.checked ? \"\" : entry.toMonth,\n                  toYear: event.target.checked ? \"\" : entry.toYear,\n                })\n              }\n              className=\"h-4 w-4 rounded border-zinc-300 text-zinc-900\"\n            />\n            <span>Current address</span>\n          </label>\n        </div>\n      </div>\n    ))}\n\n      <Button type=\"button\" variant=\"secondary\" onClick={onAddAddress}>\n        Add another address\n      </Button>\n    </StepShell>\n  );\n};\n\nconst STEP_LABELS = [\n  \"Basics\",\n  \"Contact\",\n  \"Address history\",\n  \"Employment history\",\n  \"Review\",\n];\n\nexport function IntakeFlow() {\n  const [stepIndex, setStepIndex] = useState(0);\n  const [data, setData] = useState<IntakeData>(() => defaultIntakeData());\n  const [saveStatus, setSaveStatus] = useState<\"idle\" | \"saved\">(\"idle\");\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [pdfUrl, setPdfUrl] = useState<string | null>(null);\n  const [isPreviewOpen, setIsPreviewOpen] = useState(false);\n  const saveTimer = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  // Load persisted data after hydration to avoid server/client mismatch.\n  useEffect(() => {\n    setData(loadIntake());\n  }, []);\n\n  useEffect(() => {\n    if (saveTimer.current) {\n      globalThis.clearTimeout(saveTimer.current);\n    }\n    saveTimer.current = globalThis.setTimeout(() => {\n      saveIntake(data);\n      setSaveStatus(\"saved\");\n    }, 400);\n\n    return () => {\n      if (saveTimer.current) {\n        globalThis.clearTimeout(saveTimer.current);\n      }\n    };\n  }, [data]);\n\n  const yearOptions = useMemo(() => getYearOptions(), []);\n\n  useEffect(() => {\n    return () => {\n      if (pdfUrl) {\n        globalThis.URL.revokeObjectURL(pdfUrl);\n      }\n    };\n  }, [pdfUrl]);\n\n  const goNext = () => {\n    setStepIndex((prev) => Math.min(prev + 1, STEP_LABELS.length - 1));\n  };\n  const formatDob = () => {\n    const { month, day, year } = data.basics.dateOfBirth;\n    if (!month || !day || !year) {\n      return \"\";\n    }\n    return `${month}/${day.padStart(2, \"0\")}/${year}`;\n  };\n\n  const formatMonthYear = (month: MonthValue, year: string) => {\n    if (!month || !year) {\n      return \"\";\n    }\n    return `${month}/${year}`;\n  };\n\n  const formatTimeline = (entry: {\n    fromMonth: MonthValue;\n    fromYear: string;\n    toMonth: MonthValue;\n    toYear: string;\n    isCurrent: boolean;\n  }) => {\n    const start = formatMonthYear(entry.fromMonth, entry.fromYear);\n    const end = entry.isCurrent\n      ? \"Present\"\n      : formatMonthYear(entry.toMonth, entry.toYear);\n    if (!start && !end) {\n      return \"\";\n    }\n    return `${start || \"Unknown\"} to ${end || \"Unknown\"}`;\n  };\n\n  const buildAdditionalInfo = () => {\n    const physicalAddresses = data.mailingSameAsPhysical\n      ? data.addresses.slice(1)\n      : data.addresses;\n    const overflowStart = data.mailingSameAsPhysical ? 1 : 2;\n    const overflowAddresses = physicalAddresses.slice(overflowStart);\n    const lines: string[] = [];\n\n    overflowAddresses.forEach((entry, index) => {\n      const address = [\n        entry.street,\n        entry.unit,\n        entry.city,\n        entry.state,\n        entry.postal,\n        entry.country,\n      ]\n        .filter(Boolean)\n        .join(\", \");\n      const timeline = formatTimeline(entry);\n      lines.push(\n        `Part 2, Item 12-14 (Physical address history continued) ${index + 1}: ${\n          address || \"Address missing\"\n        } (${timeline || \"Dates missing\"})`\n      );\n    });\n\n    return lines.join(\"\\n\");\n  };\n\n  const buildPdfPayload = () => {\n    const relationshipMap: Record<string, string> = {\n      spouse: \"form1[0].#subform[0].Pt1Line1_Spouse[0]\",\n      parent: \"form1[0].#subform[0].Pt1Line1_Parent[0]\",\n      child: \"form1[0].#subform[0].Pt1Line1_Child[0]\",\n      sibling: \"form1[0].#subform[0].Pt1Line1_Siblings[0]\",\n    };\n\n    const mailingAddress = data.mailingSameAsPhysical\n      ? data.addresses[0]\n      : data.mailingAddress;\n    const physicalAddresses = data.mailingSameAsPhysical\n      ? data.addresses.slice(1)\n      : data.addresses;\n    const physicalAddress1 = data.mailingSameAsPhysical\n      ? undefined\n      : physicalAddresses[0];\n    const physicalAddress2 = data.mailingSameAsPhysical\n      ? physicalAddresses[0]\n      : physicalAddresses[1];\n\n    const addressFields = (\n      entry: AddressEntry | undefined,\n      prefix: string,\n      include = true\n    ) =>\n      include\n        ? {\n            [`${prefix}_StreetNumberName[0]`]: entry?.street || \"\",\n            [`${prefix}_AptSteFlrNumber[0]`]: entry?.unit || \"\",\n            [`${prefix}_CityOrTown[0]`]: entry?.city || \"\",\n            [`${prefix}_State[0]`]: entry?.state || \"\",\n            [`${prefix}_ZipCode[0]`]: entry?.postal || \"\",\n            [`${prefix}_PostalCode[0]`]: entry?.postal || \"\",\n            [`${prefix}_Country[0]`]: entry?.country || \"\",\n          }\n        : {};\n\n    const additionalInfo = buildAdditionalInfo();\n\n    return {\n      fields: {\n        \"form1[0].#subform[0].Pt2Line4a_FamilyName[0]\":\n          data.basics.petitioner.familyName,\n        \"form1[0].#subform[0].Pt2Line4b_GivenName[0]\":\n          data.basics.petitioner.givenName,\n        \"form1[0].#subform[0].Pt2Line4c_MiddleName[0]\":\n          data.basics.petitioner.middleName,\n        \"form1[0].#subform[1].Pt2Line8_DateofBirth[0]\": formatDob(),\n        ...addressFields(mailingAddress, \"form1[0].#subform[1].Pt2Line10\"),\n        ...addressFields(\n          physicalAddress1,\n          \"form1[0].#subform[1].Pt2Line12\",\n          !data.mailingSameAsPhysical\n        ),\n        ...addressFields(physicalAddress2, \"form1[0].#subform[1].Pt2Line14\"),\n        \"form1[0].#subform[11].Pt9Line3a_PageNumber[0]\": additionalInfo\n          ? \"5\"\n          : \"\",\n        \"form1[0].#subform[11].Pt9Line3b_PartNumber[0]\": additionalInfo\n          ? \"2\"\n          : \"\",\n        \"form1[0].#subform[11].Pt9Line3c_ItemNumber[0]\": additionalInfo\n          ? \"10-14\"\n          : \"\",\n        \"form1[0].#subform[11].Pt9Line3d_AdditionalInfo[0]\": additionalInfo,\n      },\n      checkboxes: {\n        [relationshipMap[data.basics.relationship] ?? \"\"]: true,\n        ...(data.mailingSameAsPhysical\n          ? { \"form1[0].#subform[1].Pt2Line11_Yes[0]\": true }\n          : { \"form1[0].#subform[1].Pt2Line11_No[0]\": true }),\n      },\n    };\n  };\n\n  const handleSave = () => {\n    saveIntake(data);\n    setSaveStatus(\"saved\");\n  };\n\n  const handleGenerate = async () => {\n    setIsGenerating(true);\n    try {\n      const apiBase =\n        process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n      const payload = buildPdfPayload();\n      const response = await fetch(`${apiBase}/fill/i-130`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to generate PDF (${response.status})`);\n      }\n      const blob = await response.blob();\n      const url = globalThis.URL.createObjectURL(blob);\n      if (pdfUrl) {\n        globalThis.URL.revokeObjectURL(pdfUrl);\n      }\n      setPdfUrl(url);\n      setIsPreviewOpen(true);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const goBack = () => {\n    setStepIndex((prev) => Math.max(prev - 1, 0));\n  };\n\n  const updateAddress = (id: string, patch: Partial<AddressEntry>) => {\n    setData((prev) => ({\n      ...prev,\n      addresses: prev.addresses.map((entry) =>\n        entry.id === id ? { ...entry, ...patch } : entry\n      ),\n    }));\n  };\n\n  const updateMailingSameAsPhysical = (value: boolean) => {\n    setData((prev) => ({\n      ...prev,\n      mailingSameAsPhysical: value,\n    }));\n  };\n\n  const updateMailingAddress = (patch: Partial<AddressEntry>) => {\n    setData((prev) => ({\n      ...prev,\n      mailingAddress: {\n        ...prev.mailingAddress,\n        ...patch,\n      },\n    }));\n  };\n\n  const updateEmployment = (id: string, patch: Partial<EmploymentEntry>) => {\n    setData((prev) => ({\n      ...prev,\n      employment: prev.employment.map((entry) =>\n        entry.id === id ? { ...entry, ...patch } : entry\n      ),\n    }));\n  };\n\n  const addAddress = () =>\n    setData((prev) => ({\n      ...prev,\n      addresses: [...prev.addresses, createEmptyAddress()],\n    }));\n\n  const addEmployment = () =>\n    setData((prev) => ({\n      ...prev,\n      employment: [...prev.employment, createEmptyEmployment()],\n    }));\n\n  const removeAddress = (id: string) =>\n    setData((prev) => ({\n      ...prev,\n      addresses: prev.addresses.filter((entry) => entry.id !== id),\n    }));\n\n  const removeEmployment = (id: string) =>\n    setData((prev) => ({\n      ...prev,\n      employment: prev.employment.filter((entry) => entry.id !== id),\n    }));\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      <div className=\"flex flex-wrap items-center gap-3 text-sm text-zinc-500\">\n        {STEP_LABELS.map((label, idx) => (\n          <div\n            key={label}\n            className={`rounded-full px-3 py-1 ${\n              idx === stepIndex\n                ? \"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900\"\n                : \"bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-300\"\n            }`}\n          >\n            {label}\n          </div>\n        ))}\n      </div>\n\n      {stepIndex === 0 ? (\n        <StepShell\n          title=\"Letâ€™s start with the basics\"\n          description=\"Weâ€™ll keep this short and friendly. You can edit anything later.\"\n        >\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Relationship to beneficiary</Label>\n              {renderSelect(\n                data.basics.relationship,\n                (value) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      relationship: value as IntakeData[\"basics\"][\"relationship\"],\n                    },\n                  })),\n                \"Select\",\n                [\n                  { value: \"spouse\", label: \"Spouse\" },\n                  { value: \"parent\", label: \"Parent\" },\n                  { value: \"child\", label: \"Child\" },\n                  { value: \"sibling\", label: \"Brother/Sister\" },\n                ]\n              )}\n            </label>\n            <div className=\"rounded-lg border border-dashed border-zinc-300 p-3 text-xs text-zinc-500 dark:border-zinc-700\">\n              Weâ€™ll use this to shape which I-130 questions you see.\n            </div>\n          </div>\n\n          <div className=\"grid gap-4 sm:grid-cols-3\">\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Given name</Label>\n              <Input\n                value={data.basics.petitioner.givenName}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      petitioner: {\n                        ...prev.basics.petitioner,\n                        givenName: event.target.value,\n                      },\n                    },\n                  }))\n                }\n                placeholder=\"Alex\"\n              />\n            </label>\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Middle name</Label>\n              <Input\n                value={data.basics.petitioner.middleName}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      petitioner: {\n                        ...prev.basics.petitioner,\n                        middleName: event.target.value,\n                      },\n                    },\n                  }))\n                }\n                placeholder=\"Leave blank if none\"\n              />\n            </label>\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Family name</Label>\n              <Input\n                value={data.basics.petitioner.familyName}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      petitioner: {\n                        ...prev.basics.petitioner,\n                        familyName: event.target.value,\n                      },\n                    },\n                  }))\n                }\n                placeholder=\"Doe\"\n              />\n            </label>\n          </div>\n\n          <div className=\"grid gap-4 sm:grid-cols-3\">\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Birth month</Label>\n              {renderSelect(\n                data.basics.dateOfBirth.month,\n                (value) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      dateOfBirth: {\n                        ...prev.basics.dateOfBirth,\n                        month: value as MonthValue,\n                      },\n                    },\n                  })),\n                \"Month\",\n                MONTHS.map((month) => ({\n                  value: month.value,\n                  label: month.label,\n                }))\n              )}\n            </label>\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Birth day</Label>\n              <Input\n                inputMode=\"numeric\"\n                value={data.basics.dateOfBirth.day}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      dateOfBirth: {\n                        ...prev.basics.dateOfBirth,\n                        day: event.target.value,\n                      },\n                    },\n                  }))\n                }\n                placeholder=\"DD\"\n              />\n            </label>\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Birth year</Label>\n              <Input\n                inputMode=\"numeric\"\n                value={data.basics.dateOfBirth.year}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    basics: {\n                      ...prev.basics,\n                      dateOfBirth: {\n                        ...prev.basics.dateOfBirth,\n                        year: event.target.value,\n                      },\n                    },\n                  }))\n                }\n                placeholder=\"YYYY\"\n              />\n            </label>\n          </div>\n\n        </StepShell>\n      ) : null}\n\n      {stepIndex === 1 ? (\n        <StepShell\n          title=\"How can we reach you?\"\n          description=\"We only ask for whatâ€™s needed for USCIS forms.\"\n        >\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Email address</Label>\n              <Input\n                type=\"email\"\n                value={data.contact.email}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    contact: { ...prev.contact, email: event.target.value },\n                  }))\n                }\n                placeholder=\"you@email.com\"\n              />\n            </label>\n            <label className=\"flex flex-col gap-2 text-sm\">\n              <Label>Phone number</Label>\n              <Input\n                value={data.contact.phone}\n                onChange={(event) =>\n                  setData((prev) => ({\n                    ...prev,\n                    contact: { ...prev.contact, phone: event.target.value },\n                  }))\n                }\n                placeholder=\"(555) 123-4567\"\n              />\n            </label>\n          </div>\n        </StepShell>\n      ) : null}\n\n      {stepIndex === 2 ? (\n        <AddressHistoryStep\n          data={data}\n          yearOptions={yearOptions}\n          onMailingSameAsPhysicalChange={updateMailingSameAsPhysical}\n          onMailingAddressChange={updateMailingAddress}\n          onUpdateAddress={updateAddress}\n          onAddAddress={addAddress}\n          onRemoveAddress={removeAddress}\n        />\n      ) : null}\n\n      {stepIndex === 3 ? (\n        <StepShell\n          title=\"Employment history (last 5 years)\"\n          description=\"Start with your current situation and work backwards.\"\n        >\n          {data.employment.map((entry, idx) => (\n            <EmploymentEntryCard\n              key={entry.id}\n              entry={entry}\n              index={idx}\n              yearOptions={yearOptions}\n              onUpdate={updateEmployment}\n              onRemove={removeEmployment}\n              showRemove={data.employment.length > 1}\n            />\n          ))}\n\n          <Button type=\"button\" variant=\"secondary\" onClick={addEmployment}>\n            Add another job or status\n          </Button>\n        </StepShell>\n      ) : null}\n\n      {stepIndex === 4 ? (\n        <StepShell\n          title=\"Quick review\"\n          description=\"Weâ€™ll highlight anything missing so you can fix it.\"\n        >\n          <div className=\"rounded-lg border border-zinc-200 bg-zinc-50 p-4 text-sm text-zinc-600 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-300\">\n            <p>\n              Addresses entered: <strong>{data.addresses.length}</strong>\n            </p>\n            <p className=\"mt-1\">\n              Employment entries: <strong>{data.employment.length}</strong>\n            </p>\n            <p className=\"mt-2\">\n              Weâ€™ll flag timeline gaps and missing details once the mapping is\n              connected to the PDF.\n            </p>\n          </div>\n          <label className=\"flex flex-col gap-2 text-sm\">\n            <Label>Anything you want to revisit later?</Label>\n            <Textarea\n              value={data.addresses[0]?.notes || \"\"}\n              onChange={(event) =>\n                updateAddress(data.addresses[0].id, {\n                  notes: event.target.value,\n                })\n              }\n              placeholder=\"Optional notes for later...\"\n            />\n          </label>\n\n          <div className=\"flex flex-wrap items-center gap-3\">\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={handleSave}\n              disabled={saveStatus === \"saved\"}\n            >\n              {saveStatus === \"saved\" ? \"Saved\" : \"Save progress\"}\n            </Button>\n            <Button type=\"button\" onClick={handleGenerate} disabled={isGenerating}>\n              {isGenerating ? \"Generating...\" : \"Preview PDF\"}\n            </Button>\n          </div>\n\n          <Dialog open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>\n            <DialogContent className=\"flex h-[85vh] w-[90vw] max-w-6xl flex-col gap-4 p-6\">\n              <DialogHeader>\n                <DialogTitle>PDF preview</DialogTitle>\n                <DialogDescription>\n                  First pass mapping from your intake answers.\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"flex-1 overflow-hidden rounded-xl border border-zinc-200 bg-white dark:border-zinc-800\">\n                {pdfUrl ? (\n                  <iframe\n                    title=\"I-130 preview\"\n                    src={pdfUrl}\n                    className=\"h-full w-full\"\n                  />\n                ) : (\n                  <div className=\"flex h-full items-center justify-center text-sm text-zinc-500\">\n                    Generate a preview to view the PDF.\n                  </div>\n                )}\n              </div>\n            </DialogContent>\n          </Dialog>\n        </StepShell>\n      ) : null}\n\n      <div className=\"flex items-center justify-between\">\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          onClick={goBack}\n          disabled={stepIndex === 0}\n        >\n          Back\n        </Button>\n        <div className=\"flex items-center gap-2\">\n          {stepIndex < STEP_LABELS.length - 1 ? (\n            <Button type=\"button\" onClick={goNext}>\n              Continue\n            </Button>\n          ) : (\n            <Button type=\"button\" variant=\"secondary\" onClick={handleSave}>\n              {saveStatus === \"saved\" ? \"Saved\" : \"Save progress\"}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}